<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Destruction app</title>
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/pp.css}">
	<link rel="stylesheet" th:href="@{/css/cssgrid.css}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<header class="contenedor">
    <img th:src="@{/imagenes/mus.png}" alt="Logo" class="logo">
    <nav class="menu">
        <ul>
            <li><a th:href="@{/registro-login}">Registro-Acceso</a></li>
        </ul>
    </nav>
    <div class="contcerrarsesion">
        <div class="contMensaje" th:if="${session.usuario != null}">
            <p>Usuario: <span class="usu" th:text="${session.usuario.username}">Nombre de usuario</span></p>
        </div>
        <div class="contDdboton">
            <form th:action="@{/logout}" method="POST">
                <input type="hidden"/>
                <button type="submit" id="ddboton2" class="btn btn-primary">Cerrar sesion</button>
            </form>
        </div>
    </div>
</header>

    <video class="video-container" id="video-bg" muted autoplay loop>
        <source th:src="@{/imagenes/espacio.mp4}" type="video/mp4">
    </video>

    <div class="formularios">
        <div class="form">
            <h1><b>Registro de usuario</b></h1>
            <div th:if="${error != null}">
                <p style="color: red;" th:text="${error}"></p>
            </div>
            <div th:if="${mensajeRegistro != null}" class="alert alert-success alert-pequeno">
			    <p th:text="${mensajeRegistro}"></p>
			</div>
            <form th:action="@{/guardar}" method="POST">
                <label for="username">Nombre:</label>
                <input type="text" id="username" name="username" class="etivertical" required>
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" class="etipass" required>
                <label for="correo">Correo:</label>
                <input type="text" id="correo" name="correo" class="etivertical" required>
                <button class="botonRegistrarse" type="submit" id="enviar">Registrarse</button>
            </form>
        </div>
        
        <div>
	    	<img class="bienv" th:src="@{/imagenes/bie.png}">
	    </div>

        <div class="form">
            <h1><b>Iniciar sesión</b></h1>
            <div th:if="${errorDeAcceso != null}">
                <p style="color: red;" th:text="${errorDeAcceso}"></p>
            </div>
            <form th:action="@{/login}" method="POST">
                <label for="username">Nombre de usuario:</label>
                <input type="text" id="username" name="username" class="etivertical" required>
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" class="etipass" required>
                <button class="botonRegistrarse" type="submit" id="enviar">Iniciar sesión</button>
            </form>
        </div>
    </div>
    
    <div th:if="${mensaje != null}" class="contenedor-mensaje">
	    <div class="cont">
	        <img class="telefono" th:src="@{/imagenes/palomita-correcto.png}">
	        <h3 class="mensajeconf" th:text="${mensaje}"></h3>
	    </div>
	</div>
    
    <div class="container-botonJugar">
	    <a class="botonJugar" th:href="@{/pagPrincipalJuego}" th:if="${session.usuario != null}">Entrar  🚀</a>
	</div>

    <div class="pie-pagina">
        <h3 class="pie">Esta es una web creada por A.Munilla. 2023-2024</h3>
    </div>
</body>
</html>
